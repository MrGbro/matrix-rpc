# 版本历史

<cite>
**本文档中引用的文件**  
- [pom.xml](file://pom.xml#L49)
- [README.md](file://README.md#L228-L277)
- [RpcService.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcService.java)
- [RpcReference.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcReference.java)
- [SPI.java](file://matrix-rpc-spi/src/main/java/io/homeey/matrix/rpc/spi/SPI.java)
- [Protocol.java](file://matrix-rpc-core/src/main/java/io/homeey/matrix/rpc/core/Protocol.java)
</cite>

## 目录
1. [版本说明](#版本说明)
2. [版本号语义](#版本号语义)
3. [版本演进历史](#版本演进历史)
4. [迁移指南](#迁移指南)
5. [框架稳定性说明](#框架稳定性说明)

## 版本说明

Matrix RPC 是一个轻量级、高性能、云原生的分布式 RPC 框架。本版本历史文档旨在记录项目的更新情况，包括每个版本的发布日期、新功能、改进和修复的 Bug，帮助用户了解框架的演进和稳定性。

**版本来源**
- 当前版本：0.0.3（来自 `pom.xml` 文件中的 `<revision>0.0.3</revision>`）
- 项目演进阶段：根据 `README.md` 文件中的“演进蓝图”，当前处于 Phase 1：最小可用内核阶段

**Section sources**
- [pom.xml](file://pom.xml#L49)
- [README.md](file://README.md#L228-L277)

## 版本号语义

Matrix RPC 框架遵循语义化版本控制（SemVer）规范，版本号格式为 `主版本号.次版本号.修订号`（MAJOR.MINOR.PATCH），具体含义如下：

- **主版本号 (MAJOR)**：当进行不兼容的 API 修改时递增
- **次版本号 (MINOR)**：当以向后兼容的方式添加功能时递增
- **修订号 (PATCH)**：当进行向后兼容的问题修复时递增

框架通过 Maven 的 `flatten-maven-plugin` 插件进行版本管理，确保所有模块版本的一致性。

**Section sources**
- [pom.xml](file://pom.xml#L48-L49)
- [README.md](file://README.md#L228-L277)

## 版本演进历史

### 0.0.3 版本（当前版本）

- **发布日期**：未明确指定（根据代码注释推测为 2026 年初）
- **新功能**：
  - 实现了核心 RPC 功能，包括服务暴露（`RpcService.export`）和服务引用（`RpcReference.refer`）
  - 支持通过一行代码完成服务暴露和引用
  - 实现了基于 SPI 的扩展机制，支持协议、传输、序列化等组件的可插拔
  - 提供了 Netty 传输实现和 JDK 动态代理支持
  - 支持复杂对象的序列化传输
- **改进**：
  - 优化了 SPI 机制，支持优先级、条件激活和 Wrapper 模式
  - 改进了错误处理机制，统一使用 `RpcException` 异常类
  - 完善了日志记录，使用 SLF4J + Logback 组合
- **修复的 Bug**：
  - 修复了服务暴露时的空指针检查问题
  - 修复了代理创建过程中的异常处理

### 0.0.2 版本（推测）

- **发布日期**：未明确指定
- **新功能**：
  - 引入了 Filter 机制，支持超时、限流、熔断、Trace、Metrics 等功能
  - 实现了基本的负载均衡策略
  - 添加了 Nacos 注册中心支持
- **改进**：
  - 优化了核心调用链路的性能
  - 改进了配置管理

### 0.0.1 版本（初始版本）

- **发布日期**：未明确指定
- **新功能**：
  - 创建项目骨架
  - 实现最小可用内核
  - 支持 TCP + Netty 通信
  - 实现基本的 SPI 可扩展机制
  - 完成 echo demo 示例

**Section sources**
- [pom.xml](file://pom.xml#L49)
- [README.md](file://README.md#L228-L277)
- [RpcService.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcService.java)
- [RpcReference.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcReference.java)

## 迁移指南

目前 Matrix RPC 框架仍处于早期开发阶段（0.x 版本），API 可能会发生不兼容的变更。从旧版本升级到新版本时，请注意以下事项：

1. **检查 SPI 注解**：确保自定义扩展的 `@SPI` 注解使用正确，特别是默认值的设置
2. **更新依赖版本**：在 `pom.xml` 中更新 `matrix-rpc` 相关模块的版本号
3. **验证服务暴露和引用**：检查 `RpcService.export` 和 `RpcReference.refer` 的调用是否符合新版本的 API
4. **检查 Filter 配置**：如果使用了 Filter 机制，确保 `@Activate` 注解的配置正确
5. **测试序列化兼容性**：特别是使用复杂对象作为参数或返回值时，确保序列化/反序列化正常工作

建议在升级前仔细阅读每个版本的变更说明，并在测试环境中充分验证。

**Section sources**
- [pom.xml](file://pom.xml#L49)
- [README.md](file://README.md#L228-L277)
- [RpcService.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcService.java)
- [RpcReference.java](file://matrix-rpc-runtime/src/main/java/io/homeey/matrix/rpc/runtime/RpcReference.java)

## 框架稳定性说明

Matrix RPC 框架目前处于积极开发阶段，当前版本（0.0.3）为早期预览版本，主要特点如下：

- **稳定性**：框架核心功能已实现，但在生产环境中使用仍需谨慎。建议在非关键业务场景中试用，并密切关注后续版本更新。
- **兼容性**：由于处于 0.x 版本，API 可能会发生不兼容的变更。建议关注项目演进蓝图，了解未来发展方向。
- **功能完整性**：已完成 Phase 1 的最小可用内核目标，支持基本的 RPC 调用功能。后续将按计划实现集群、注册中心、Spring Boot Starter 等高级功能。
- **性能**：基于 Netty 实现高性能网络通信，但尚未进行大规模性能优化和压测。

项目未来将按照以下演进蓝图发展：
1. Phase 2：集群 & 注册中心（Nacos / K8s Registry、LoadBalance、Failover）
2. Phase 3：Spring Boot Starter（自动装配、注解支持）
3. Phase 4：云原生一等公民（K8s EndpointSlice、gRPC 协议、OpenTelemetry）
4. Phase 5：性能对标 Dubbo（零拷贝、Pipeline 优化、异步调用）

**Section sources**
- [README.md](file://README.md#L228-L277)
- [pom.xml](file://pom.xml#L49)